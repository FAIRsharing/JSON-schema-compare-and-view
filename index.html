<!DOCTYPE html>

<html lang="en" ng-app="generatorApp">
    <head>
        <meta charset="UTF-8">
        <title>MIACA VS DATS</title>
        <link rel="stylesheet" href="lib/sandstorm.min.css">
        <link rel="stylesheet" href="app2.css">
        <link rel="stylesheet"
              href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
              integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
              crossorigin="anonymous">
        <script type="text/javascript" src="lib/angular.js"></script>
        <script type="text/javascript" src="app.js"></script>
    </head>

    <body class="JSONSchemaComp">
        <div class="main" ng-controller="viewerCtrl as main">
            <div class="card bg-light mb-3">

                <div class="card-header">
                    Overlap between {{network1.name}} and {{network2.name}} checklists
                </div>

                <div class="card-body">
                    <table class="table table-hover">
                        <thead>
                        <tr class="">
                            <th scope="col"> </th>
                            <th scope="col"> {{network1.name}} </th>
                            <th scope="col"> {{network2.name}} </th>
                        </tr>
                        </thead>
                        <tbody ng-repeat="schema in overlaps">

                            <tr class="new_schema">
                                <th scope="row" class="label new_schema"> {{network1.contexts[schema[0][0]][map[schema[0][0]]]}}</th>
                                <td class="new_schema"> {{network1.schemas[schema[0][0]].title}} </td>
                                <td class="new_schema"> {{network2.schemas[schema[0][1]].title}} </td>
                            </tr>

                            <tr class="" ng-repeat="item in schema[1]['overlapping fields']">
                                <th scope="row" class="sub_label"> {{network1.contexts[schema[0][0]][item[0]]}} </th>
                                <td class=""> {{item[0]}} </td>
                                <td class=""> {{item[1]}} </td>
                            </tr>

                            <tr ng-repeat="(itemName, itemValue) in network1.schemas[schema[0][0]]['properties']"
                                ng-if="processed_fields[schema[0][0]].indexOf(itemName) == -1
                                       && ignoredKeys.indexOf(itemName) == -1
                                       && network1.contexts[schema[0][0]].hasOwnProperty(itemName)">

                                <th scope="row" class="sub_label">
                                    <span ng-if="(network1.contexts[schema[0][0]][itemName] | typeOf) == 'object'">
                                        {{network1.contexts[schema[0][0]][itemName]["@id"]}}
                                    </span>
                                    <span ng-if="(network1.contexts[schema[0][0]][itemName] | typeOf) == 'string'">
                                        {{network1.contexts[schema[0][0]][itemName]}}
                                    </span>

                                </th>
                                <td>{{itemName}}</td>
                                <td> <span class="fas fa-times"></span></td>
                            </tr>

                            <tr ng-repeat="(itemName, itemValue) in network2.schemas[schema[0][1]]['properties']"
                                ng-if="processed_fields[schema[0][1]].indexOf(itemName) == -1
                                       && ignoredKeys.indexOf(itemName) == -1
                                       && network2.contexts[schema[0][1]].hasOwnProperty(itemName)">

                                <th scope="row" class="sub_label">
                                    <span ng-if="(network2.contexts[schema[0][1]][itemName] | typeOf) == 'object'">
                                        {{network2.contexts[schema[0][1]][itemName]["@id"]}}
                                    </span>
                                    <span ng-if="(network2.contexts[schema[0][1]][itemName] | typeOf) == 'string'">
                                        {{network2.contexts[schema[0][1]][itemName]}}
                                    </span>
                                </th>

                                <td><span class="fas fa-times"></span></td>
                                <td> {{itemName}}</td>
                            </tr>

                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    </body>
</html>